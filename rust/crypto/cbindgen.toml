# This is a configuration file for cbindgen, which generates C/C++ headers from Rust code

# Basic configuration
language = "C++"
pragma_once = true
documentation = true
braces = "SameLine"
tab_width = 4
style = "both"
cpp_compat = true
namespaces = ["crusty", "crypto"]
autogen_warning = "/* This file was generated by cbindgen */"
include_version = false
includes = ["<stdint.h>", "<stddef.h>"]
no_includes = false
usize_is_size_t = true

# Export specific configurations - Only using supported fields
[export]
# List of items to include in generated bindings
include = ["CryptoErrorCode", "encrypt_data", "decrypt_data", "hash_password", "derive_key_from_password"]
# Types of items to include
item_types = ["enums", "structs", "functions", "constants"]

# Naming conventions
[fn]
rename_args = "camelCase"
[struct]
rename_fields = "camelCase"
[enum]
rename_variants = "CamelCase"
derive_helper_methods = true
[const]
rename_items = "CamelCase"
allow_static_const = true

# Parsing configuration
[parse]
parse_deps = false
include = ["rust_crypto"]
# Enable feature expansion
[parse.expand]
features = ["std"]  # Enable the "std" feature which includes hash_password
all_features = false  # Don't enable all features as they might conflict
default_features = true
